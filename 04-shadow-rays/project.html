<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Build your own 3D renderer - Rendering shadows</title>
  <link rel="stylesheet" href="../css/lesson.css">
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</head>
<body class="project">
  <h1>Project 4: Rendering shadows</h1>

  <h2>Goals</h2>

  <ul>
    <li>Cast rays to determine which areas are shadowed</li>
  </ul>

  <p>In this project, we will cast shadow rays from the points of intersection when calculating the Phong shading.</p>

  <div class="figure" id="figure-shadowed-spheres">
    <img width="256" alt="Three spheres of three different colors. The middle one has a shadow cast by the right one." src="../img/shadowed-spheres.png"/>

    <p class="caption">The sphere in the middle has a shadowed area due to the right sphere blocking some of the light.</p>
  </div>

  <h2 class="step">Cast shadow rays at each intersection point</h2>

  <p>Whenever a ray intersects an object at point a point `vec bbp`, loop through each light in the scene and construct a new ray with the following parameters:</p>

  <ul>
    <li>An origin of `vec bbp`.</li>
    <li>A direction of `vec bbL - vec bbp`, where `vec bbL` is the location of the light.</li>
  </ul>

  <p>These are the shadow rays.</p>
  
  <h2 class="step">Determine if a sphere is in shadow from a light</h2>

  <p>For each shadow ray, loop through all the objects in the scene except the current one (the one with the interesection we're trying to shade). If the shadow ray intersects any of these objects with `0 &lt; t &lt; 1`, the original intersection point is in shadow from the corresponding light.</p>

  <p>If a point on a sphere is in shadow from a particular light, don't include the diffuse and specular terms of the Phong illumination model <em>for that light</em>. Continue including contributions from any lights that are not blocked by other objects.</p>
</body>
</html>
